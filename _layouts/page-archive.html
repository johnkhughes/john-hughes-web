{% include header.html %}

<div class="content">
    <div class="wrap">
        <h1>{{ page.title | markdownify | strip_html | strip_newlines }}</h1>

        {{ content }}

        <div class="section">
            <h2>Categories</h2>

            <ul class="archive-list compact">
            {% assign categories = site.categories | sort %}
            {% for category in categories %}
                <li><a href="/category/{{ category | first | slugify }}">{{ category | first }}</a></li>
            {% endfor %}
            </ul>
        </div>

        <div class="section">
            <h2>Tags</h2>

            <ul class="archive-list compact">
            {% assign tags = site.tags | sort %}
            {% for tag in tags %}
                <li><a href="/tag/{{ tag | first | slugify }}">{{ tag | first }}</a></li>
            {% endfor %}
            </ul>
        </div>

        <div class="section">
            <h2>All posts</h2>

            {% for post in site.posts %}
            {% capture year %}{{ post.date | date: '%Y' }}{% endcapture %}
            {% capture next %}{{ post.next.date | date: '%Y' }}{% endcapture %}
            {% if forloop.first %}
            <h3>{{ year }}</h3>

            <ol class="archive-list">
            {% elsif year != next %}
            </ol>

            <h3>{{ year }}</h3>

            <ol class="archive-list">
            {% endif %}
                <li><a href="{{ post.url }}">{{ post.title | markdownify | strip_html | strip_newlines }}</a> <span class="meta">&middot; <time datetime="{{ post.date | date: "%F" }}">{{ post.date | date: "%-d %b %Y" }}</time></span></li>
            {% if forloop.last %}
            </ol>
            {% endif %}
            {% endfor %}
        </div>
    </div>
</div>

{% include footer.html %}
